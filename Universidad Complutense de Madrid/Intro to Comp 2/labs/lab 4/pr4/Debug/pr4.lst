
pr4.elf:     file format elf32-littleriscv
pr4.elf
architecture: riscv:rv32, flags 0x00000112:
EXEC_P, HAS_SYMS, D_PAGED
start address 0x00000168

Program Header:
    LOAD off    0x00001000 vaddr 0x00000000 paddr 0x00000000 align 2**12
         filesz 0x000001cc memsz 0x000001cc flags r-x
    LOAD off    0x00002000 vaddr 0x00010000 paddr 0x00010000 align 2**12
         filesz 0x00000028 memsz 0x00000029 flags rw-

Sections:
Idx Name              Size      VMA       LMA       File off  Algn  Flags
  0 .text             0000008c  00000000  00000000  00001000  2**2  CONTENTS, ALLOC, LOAD, READONLY, CODE
  1 .text.mul         00000084  0000008c  0000008c  0000108c  2**2  CONTENTS, ALLOC, LOAD, READONLY, CODE
  2 .text.i_sqrt      00000058  00000110  00000110  00001110  2**2  CONTENTS, ALLOC, LOAD, READONLY, CODE
  3 .text.main        00000064  00000168  00000168  00001168  2**2  CONTENTS, ALLOC, LOAD, READONLY, CODE
  4 .data.U           00000014  00010000  00010000  00002000  2**2  CONTENTS, ALLOC, LOAD, DATA
  5 .data.V           00000014  00010014  00010014  00002014  2**2  CONTENTS, ALLOC, LOAD, DATA
  6 .sbss.greater_u   00000001  00010028  00010028  00002028  2**0  ALLOC
  7 .riscv.attributes 00000021  00000000  00000000  00002028  2**0  CONTENTS, READONLY
  8 .comment          00000012  00000000  00000000  00002049  2**0  CONTENTS, READONLY
  9 .debug_line       00000247  00000000  00000000  0000205b  2**0  CONTENTS, READONLY, DEBUGGING, OCTETS
 10 .debug_info       00000171  00000000  00000000  000022a2  2**0  CONTENTS, READONLY, DEBUGGING, OCTETS
 11 .debug_abbrev     00000100  00000000  00000000  00002413  2**0  CONTENTS, READONLY, DEBUGGING, OCTETS
 12 .debug_aranges    00000050  00000000  00000000  00002518  2**3  CONTENTS, READONLY, DEBUGGING, OCTETS
 13 .debug_str        00002422  00000000  00000000  00002568  2**0  CONTENTS, READONLY, DEBUGGING, OCTETS
 14 .debug_ranges     00000020  00000000  00000000  0000498a  2**0  CONTENTS, READONLY, DEBUGGING, OCTETS
 15 .debug_macro      000006ff  00000000  00000000  000049aa  2**0  CONTENTS, READONLY, DEBUGGING, OCTETS
 16 .debug_frame      00000078  00000000  00000000  000050ac  2**2  CONTENTS, READONLY, DEBUGGING, OCTETS
SYMBOL TABLE:
00000000 l    d  .text	00000000 .text
0000008c l    d  .text.mul	00000000 .text.mul
00000110 l    d  .text.i_sqrt	00000000 .text.i_sqrt
00000168 l    d  .text.main	00000000 .text.main
00010000 l    d  .data.U	00000000 .data.U
00010014 l    d  .data.V	00000000 .data.V
00010028 l    d  .sbss.greater_u	00000000 .sbss.greater_u
00000000 l    d  .riscv.attributes	00000000 .riscv.attributes
00000000 l    d  .comment	00000000 .comment
00000000 l    d  .debug_line	00000000 .debug_line
00000000 l    d  .debug_info	00000000 .debug_info
00000000 l    d  .debug_abbrev	00000000 .debug_abbrev
00000000 l    d  .debug_aranges	00000000 .debug_aranges
00000000 l    d  .debug_str	00000000 .debug_str
00000000 l    d  .debug_ranges	00000000 .debug_ranges
00000000 l    d  .debug_macro	00000000 .debug_macro
00000000 l    d  .debug_frame	00000000 .debug_frame
00000000 l    df *ABS*	00000000 ./fun_asm.o
0000000c l       .text	00000000 loop
00000068 l       .text	00000000 end_loop
00000000 l    df *ABS*	00000000 pr4.c
00000000 g       .text	00000000 eucl_dist
00010028 g     O .sbss.greater_u	00000001 greater_u
00000110 g     F .text.i_sqrt	00000058 i_sqrt
00010014 g     O .data.V	00000014 V
0000008c g     F .text.mul	00000084 mul
00000084 g       .text	00000000 save
00000168 g     F .text.main	00000064 main
00010000 g     O .data.U	00000014 U
00020000 g       *ABS*	00000000 _stack



Disassembly of section .text:

00000000 <eucl_dist>:
eucl_dist():
C:\Users\Juan Antonio\Documents\Docencia\FC2\2023-2024\lab\ws\FC2labWS\pr4\Debug/../fun_asm.asm:27
eucl_dist:
    //the address of W is received in a0, and size N in a1
    //perform the calculations
    //the result is returned in a0

	mv t0,a0 //base address
   0:	00050293          	mv	t0,a0
C:\Users\Juan Antonio\Documents\Docencia\FC2\2023-2024\lab\ws\FC2labWS\pr4\Debug/../fun_asm.asm:28
	addi t1,a1,-1 //index
   4:	fff58313          	addi	t1,a1,-1
C:\Users\Juan Antonio\Documents\Docencia\FC2\2023-2024\lab\ws\FC2labWS\pr4\Debug/../fun_asm.asm:29
	li t2,0 //accum
   8:	00000393          	li	t2,0

0000000c <loop>:
loop():
C:\Users\Juan Antonio\Documents\Docencia\FC2\2023-2024\lab\ws\FC2labWS\pr4\Debug/../fun_asm.asm:31
loop:
	blt t1,zero,end_loop
   c:	04034e63          	bltz	t1,68 <end_loop>
C:\Users\Juan Antonio\Documents\Docencia\FC2\2023-2024\lab\ws\FC2labWS\pr4\Debug/../fun_asm.asm:32
	slli t3,t1,2 //offset
  10:	00231e13          	slli	t3,t1,0x2
C:\Users\Juan Antonio\Documents\Docencia\FC2\2023-2024\lab\ws\FC2labWS\pr4\Debug/../fun_asm.asm:33
	add t4,t0,t3 //W[i]
  14:	01c28eb3          	add	t4,t0,t3
C:\Users\Juan Antonio\Documents\Docencia\FC2\2023-2024\lab\ws\FC2labWS\pr4\Debug/../fun_asm.asm:34
	lw a0,0(t4)
  18:	000ea503          	lw	a0,0(t4)
C:\Users\Juan Antonio\Documents\Docencia\FC2\2023-2024\lab\ws\FC2labWS\pr4\Debug/../fun_asm.asm:35
	mv a1,a0
  1c:	00050593          	mv	a1,a0
C:\Users\Juan Antonio\Documents\Docencia\FC2\2023-2024\lab\ws\FC2labWS\pr4\Debug/../fun_asm.asm:37

	add sp, sp, -24
  20:	fe810113          	addi	sp,sp,-24
C:\Users\Juan Antonio\Documents\Docencia\FC2\2023-2024\lab\ws\FC2labWS\pr4\Debug/../fun_asm.asm:38
	sw ra, 20(sp)
  24:	00112a23          	sw	ra,20(sp)
C:\Users\Juan Antonio\Documents\Docencia\FC2\2023-2024\lab\ws\FC2labWS\pr4\Debug/../fun_asm.asm:39
	sw t4, 16(sp) //Not needed
  28:	01d12823          	sw	t4,16(sp)
C:\Users\Juan Antonio\Documents\Docencia\FC2\2023-2024\lab\ws\FC2labWS\pr4\Debug/../fun_asm.asm:40
 	sw t3, 12(sp) //Not needed
  2c:	01c12623          	sw	t3,12(sp)
C:\Users\Juan Antonio\Documents\Docencia\FC2\2023-2024\lab\ws\FC2labWS\pr4\Debug/../fun_asm.asm:41
 	sw t2, 8(sp)
  30:	00712423          	sw	t2,8(sp)
C:\Users\Juan Antonio\Documents\Docencia\FC2\2023-2024\lab\ws\FC2labWS\pr4\Debug/../fun_asm.asm:42
	sw t1, 4(sp)
  34:	00612223          	sw	t1,4(sp)
C:\Users\Juan Antonio\Documents\Docencia\FC2\2023-2024\lab\ws\FC2labWS\pr4\Debug/../fun_asm.asm:43
 	sw t0, 0(sp)
  38:	00512023          	sw	t0,0(sp)
C:\Users\Juan Antonio\Documents\Docencia\FC2\2023-2024\lab\ws\FC2labWS\pr4\Debug/../fun_asm.asm:44
	call mul
  3c:	050000ef          	jal	ra,8c <mul>
C:\Users\Juan Antonio\Documents\Docencia\FC2\2023-2024\lab\ws\FC2labWS\pr4\Debug/../fun_asm.asm:45
	lw t0, 0(sp)
  40:	00012283          	lw	t0,0(sp)
C:\Users\Juan Antonio\Documents\Docencia\FC2\2023-2024\lab\ws\FC2labWS\pr4\Debug/../fun_asm.asm:46
 	lw t1, 4(sp)
  44:	00412303          	lw	t1,4(sp)
C:\Users\Juan Antonio\Documents\Docencia\FC2\2023-2024\lab\ws\FC2labWS\pr4\Debug/../fun_asm.asm:47
	lw t2, 8(sp)
  48:	00812383          	lw	t2,8(sp)
C:\Users\Juan Antonio\Documents\Docencia\FC2\2023-2024\lab\ws\FC2labWS\pr4\Debug/../fun_asm.asm:48
 	lw t3, 12(sp)  //Not needed
  4c:	00c12e03          	lw	t3,12(sp)
C:\Users\Juan Antonio\Documents\Docencia\FC2\2023-2024\lab\ws\FC2labWS\pr4\Debug/../fun_asm.asm:49
 	lw t4, 16(sp)  //Not needed
  50:	01012e83          	lw	t4,16(sp)
C:\Users\Juan Antonio\Documents\Docencia\FC2\2023-2024\lab\ws\FC2labWS\pr4\Debug/../fun_asm.asm:50
	lw ra, 20(sp)
  54:	01412083          	lw	ra,20(sp)
C:\Users\Juan Antonio\Documents\Docencia\FC2\2023-2024\lab\ws\FC2labWS\pr4\Debug/../fun_asm.asm:51
	add sp, sp, 24
  58:	01810113          	addi	sp,sp,24
C:\Users\Juan Antonio\Documents\Docencia\FC2\2023-2024\lab\ws\FC2labWS\pr4\Debug/../fun_asm.asm:53

	add t2,t2,a0
  5c:	00a383b3          	add	t2,t2,a0
C:\Users\Juan Antonio\Documents\Docencia\FC2\2023-2024\lab\ws\FC2labWS\pr4\Debug/../fun_asm.asm:54
	add t1,t1,-1
  60:	fff30313          	addi	t1,t1,-1
C:\Users\Juan Antonio\Documents\Docencia\FC2\2023-2024\lab\ws\FC2labWS\pr4\Debug/../fun_asm.asm:55
	j loop
  64:	fa9ff06f          	j	c <loop>

00000068 <end_loop>:
end_loop():
C:\Users\Juan Antonio\Documents\Docencia\FC2\2023-2024\lab\ws\FC2labWS\pr4\Debug/../fun_asm.asm:58

end_loop:
	mv a0,t2
  68:	00038513          	mv	a0,t2
C:\Users\Juan Antonio\Documents\Docencia\FC2\2023-2024\lab\ws\FC2labWS\pr4\Debug/../fun_asm.asm:60

	add sp, sp, -4
  6c:	ffc10113          	addi	sp,sp,-4
C:\Users\Juan Antonio\Documents\Docencia\FC2\2023-2024\lab\ws\FC2labWS\pr4\Debug/../fun_asm.asm:61
	sw ra, 0(sp)
  70:	00112023          	sw	ra,0(sp)
C:\Users\Juan Antonio\Documents\Docencia\FC2\2023-2024\lab\ws\FC2labWS\pr4\Debug/../fun_asm.asm:62
	call i_sqrt
  74:	09c000ef          	jal	ra,110 <i_sqrt>
C:\Users\Juan Antonio\Documents\Docencia\FC2\2023-2024\lab\ws\FC2labWS\pr4\Debug/../fun_asm.asm:63
	lw ra, 0(sp)
  78:	00012083          	lw	ra,0(sp)
C:\Users\Juan Antonio\Documents\Docencia\FC2\2023-2024\lab\ws\FC2labWS\pr4\Debug/../fun_asm.asm:64
	add sp, sp, 4
  7c:	00410113          	addi	sp,sp,4
C:\Users\Juan Antonio\Documents\Docencia\FC2\2023-2024\lab\ws\FC2labWS\pr4\Debug/../fun_asm.asm:66

	ret
  80:	00008067          	ret

00000084 <save>:
save():
C:\Users\Juan Antonio\Documents\Docencia\FC2\2023-2024\lab\ws\FC2labWS\pr4\Debug/../fun_asm.asm:73
//int save(char value, char * location);
.global save
save:
    //the value is received in a0, and the destination address in a1
    //make sure that only ONE BYTE is saved!!
    sb a0,0(a1)
  84:	00a58023          	sb	a0,0(a1)
C:\Users\Juan Antonio\Documents\Docencia\FC2\2023-2024\lab\ws\FC2labWS\pr4\Debug/../fun_asm.asm:74
    ret
  88:	00008067          	ret

Disassembly of section .text.mul:

0000008c <mul>:
mul():
C:\Users\Juan Antonio\Documents\Docencia\FC2\2023-2024\lab\ws\FC2labWS\pr4\Debug/../pr4.c:39
*/

/**
 * Simple function to multiply two numbers in an iterative way
 */
int mul(int a, int b) {
  8c:	fd010113          	addi	sp,sp,-48
  90:	02812623          	sw	s0,44(sp)
  94:	03010413          	addi	s0,sp,48
  98:	fca42e23          	sw	a0,-36(s0)
  9c:	fcb42c23          	sw	a1,-40(s0)
C:\Users\Juan Antonio\Documents\Docencia\FC2\2023-2024\lab\ws\FC2labWS\pr4\Debug/../pr4.c:40
	int res = 0, sign = 0;
  a0:	fe042623          	sw	zero,-20(s0)
  a4:	fe042423          	sw	zero,-24(s0)
C:\Users\Juan Antonio\Documents\Docencia\FC2\2023-2024\lab\ws\FC2labWS\pr4\Debug/../pr4.c:41
	if (a < 0) {
  a8:	fdc42783          	lw	a5,-36(s0)
  ac:	0207d663          	bgez	a5,d8 <mul+0x4c>
C:\Users\Juan Antonio\Documents\Docencia\FC2\2023-2024\lab\ws\FC2labWS\pr4\Debug/../pr4.c:42
		sign = 1;
  b0:	00100793          	li	a5,1
  b4:	fef42423          	sw	a5,-24(s0)
C:\Users\Juan Antonio\Documents\Docencia\FC2\2023-2024\lab\ws\FC2labWS\pr4\Debug/../pr4.c:43
		a = -a;
  b8:	fdc42783          	lw	a5,-36(s0)
  bc:	40f007b3          	neg	a5,a5
  c0:	fcf42e23          	sw	a5,-36(s0)
C:\Users\Juan Antonio\Documents\Docencia\FC2\2023-2024\lab\ws\FC2labWS\pr4\Debug/../pr4.c:45
	}
	while (a--) res += b;
  c4:	0140006f          	j	d8 <mul+0x4c>
C:\Users\Juan Antonio\Documents\Docencia\FC2\2023-2024\lab\ws\FC2labWS\pr4\Debug/../pr4.c:45 (discriminator 2)
  c8:	fec42703          	lw	a4,-20(s0)
  cc:	fd842783          	lw	a5,-40(s0)
  d0:	00f707b3          	add	a5,a4,a5
  d4:	fef42623          	sw	a5,-20(s0)
C:\Users\Juan Antonio\Documents\Docencia\FC2\2023-2024\lab\ws\FC2labWS\pr4\Debug/../pr4.c:45 (discriminator 1)
  d8:	fdc42783          	lw	a5,-36(s0)
  dc:	fff78713          	addi	a4,a5,-1
  e0:	fce42e23          	sw	a4,-36(s0)
  e4:	fe0792e3          	bnez	a5,c8 <mul+0x3c>
C:\Users\Juan Antonio\Documents\Docencia\FC2\2023-2024\lab\ws\FC2labWS\pr4\Debug/../pr4.c:46
	if (sign)
  e8:	fe842783          	lw	a5,-24(s0)
  ec:	00078863          	beqz	a5,fc <mul+0x70>
C:\Users\Juan Antonio\Documents\Docencia\FC2\2023-2024\lab\ws\FC2labWS\pr4\Debug/../pr4.c:47
		return -res;
  f0:	fec42783          	lw	a5,-20(s0)
  f4:	40f007b3          	neg	a5,a5
  f8:	0080006f          	j	100 <mul+0x74>
C:\Users\Juan Antonio\Documents\Docencia\FC2\2023-2024\lab\ws\FC2labWS\pr4\Debug/../pr4.c:49
	else
		return res;
  fc:	fec42783          	lw	a5,-20(s0)
C:\Users\Juan Antonio\Documents\Docencia\FC2\2023-2024\lab\ws\FC2labWS\pr4\Debug/../pr4.c:50
}
 100:	00078513          	mv	a0,a5
 104:	02c12403          	lw	s0,44(sp)
 108:	03010113          	addi	sp,sp,48
 10c:	00008067          	ret

Disassembly of section .text.i_sqrt:

00000110 <i_sqrt>:
i_sqrt():
C:\Users\Juan Antonio\Documents\Docencia\FC2\2023-2024\lab\ws\FC2labWS\pr4\Debug/../pr4.c:55

/**
 * Simple function that calculates the square root in an iterative way
 */
int i_sqrt(int a) {
 110:	fd010113          	addi	sp,sp,-48
 114:	02112623          	sw	ra,44(sp)
 118:	02812423          	sw	s0,40(sp)
 11c:	03010413          	addi	s0,sp,48
 120:	fca42e23          	sw	a0,-36(s0)
C:\Users\Juan Antonio\Documents\Docencia\FC2\2023-2024\lab\ws\FC2labWS\pr4\Debug/../pr4.c:56
	int root = 0;
 124:	fe042623          	sw	zero,-20(s0)
C:\Users\Juan Antonio\Documents\Docencia\FC2\2023-2024\lab\ws\FC2labWS\pr4\Debug/../pr4.c:57
	while (mul(root, root) < a) {
 128:	0100006f          	j	138 <i_sqrt+0x28>
C:\Users\Juan Antonio\Documents\Docencia\FC2\2023-2024\lab\ws\FC2labWS\pr4\Debug/../pr4.c:58
		root++;
 12c:	fec42783          	lw	a5,-20(s0)
 130:	00178793          	addi	a5,a5,1
 134:	fef42623          	sw	a5,-20(s0)
C:\Users\Juan Antonio\Documents\Docencia\FC2\2023-2024\lab\ws\FC2labWS\pr4\Debug/../pr4.c:57
	while (mul(root, root) < a) {
 138:	fec42583          	lw	a1,-20(s0)
 13c:	fec42503          	lw	a0,-20(s0)
 140:	f4dff0ef          	jal	ra,8c <mul>
 144:	00050713          	mv	a4,a0
 148:	fdc42783          	lw	a5,-36(s0)
 14c:	fef740e3          	blt	a4,a5,12c <i_sqrt+0x1c>
C:\Users\Juan Antonio\Documents\Docencia\FC2\2023-2024\lab\ws\FC2labWS\pr4\Debug/../pr4.c:60
	}
	return root;
 150:	fec42783          	lw	a5,-20(s0)
C:\Users\Juan Antonio\Documents\Docencia\FC2\2023-2024\lab\ws\FC2labWS\pr4\Debug/../pr4.c:61
}
 154:	00078513          	mv	a0,a5
 158:	02c12083          	lw	ra,44(sp)
 15c:	02812403          	lw	s0,40(sp)
 160:	03010113          	addi	sp,sp,48
 164:	00008067          	ret

Disassembly of section .text.main:

00000168 <main>:
main():
C:\Users\Juan Antonio\Documents\Docencia\FC2\2023-2024\lab\ws\FC2labWS\pr4\Debug/../pr4.c:80
*/

/**
 * Entry point to the program
 */
void main() {
 168:	fe010113          	addi	sp,sp,-32
 16c:	00112e23          	sw	ra,28(sp)
 170:	00812c23          	sw	s0,24(sp)
 174:	02010413          	addi	s0,sp,32
C:\Users\Juan Antonio\Documents\Docencia\FC2\2023-2024\lab\ws\FC2labWS\pr4\Debug/../pr4.c:82
	//the euclidean distance to the origin is calculated
	int d_u = eucl_dist(U, N);
 178:	00500593          	li	a1,5
 17c:	000107b7          	lui	a5,0x10
 180:	00078513          	mv	a0,a5
 184:	e7dff0ef          	jal	ra,0 <eucl_dist>
 188:	fea42623          	sw	a0,-20(s0)
C:\Users\Juan Antonio\Documents\Docencia\FC2\2023-2024\lab\ws\FC2labWS\pr4\Debug/../pr4.c:83
	int d_v = eucl_dist(V, N);
 18c:	00500593          	li	a1,5
 190:	000107b7          	lui	a5,0x10
 194:	01478513          	addi	a0,a5,20 # 10014 <V>
 198:	e69ff0ef          	jal	ra,0 <eucl_dist>
 19c:	fea42423          	sw	a0,-24(s0)
C:\Users\Juan Antonio\Documents\Docencia\FC2\2023-2024\lab\ws\FC2labWS\pr4\Debug/../pr4.c:85
	//we check if U was farther
	char greater = d_u > d_v;
 1a0:	fec42703          	lw	a4,-20(s0)
 1a4:	fe842783          	lw	a5,-24(s0)
 1a8:	00e7a7b3          	slt	a5,a5,a4
 1ac:	0ff7f793          	andi	a5,a5,255
 1b0:	fef403a3          	sb	a5,-25(s0)
C:\Users\Juan Antonio\Documents\Docencia\FC2\2023-2024\lab\ws\FC2labWS\pr4\Debug/../pr4.c:86
	save(greater, &greater_u);
 1b4:	fe740703          	lb	a4,-25(s0)
 1b8:	000107b7          	lui	a5,0x10
 1bc:	02878593          	addi	a1,a5,40 # 10028 <greater_u>
 1c0:	00070513          	mv	a0,a4
 1c4:	ec1ff0ef          	jal	ra,84 <save>
C:\Users\Juan Antonio\Documents\Docencia\FC2\2023-2024\lab\ws\FC2labWS\pr4\Debug/../pr4.c:88 (discriminator 1)

	while(1); //the program remains in an infinite loop
 1c8:	0000006f          	j	1c8 <main+0x60>
